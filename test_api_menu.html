<!DOCTYPE html>
<html>
<head>
    <title>Kismet API Menu Test</title>
    <script src="http://localhost:2501/js/jquery-3.7.1.min.js"></script>
    <script src="http://localhost:2501/js/kismet.ui.sidebar.js"></script>
    <script src="http://localhost:2501/js/kismet.ui.api.js"></script>
</head>
<body>
    <h1>Kismet API Menu Test</h1>
    <div id="test-results"></div>
    
    <script>
        $(document).ready(function() {
            setTimeout(function() {
                var results = $('#test-results');
                
                // Check if kismet_ui_sidebar is loaded
                if (typeof kismet_ui_sidebar !== 'undefined') {
                    results.append('<p>✅ kismet_ui_sidebar is loaded</p>');
                } else {
                    results.append('<p>❌ kismet_ui_sidebar is NOT loaded</p>');
                }
                
                // Check if kismet_ui_api is loaded
                if (typeof kismet_ui_api !== 'undefined') {
                    results.append('<p>✅ kismet_ui_api is loaded</p>');
                } else {
                    results.append('<p>❌ kismet_ui_api is NOT loaded</p>');
                }
                
                // Check if API sidebar item was added
                if (typeof kismet_ui_sidebar !== 'undefined' && kismet_ui_sidebar.SidebarItems) {
                    var apiItem = null;
                    for (var i = 0; i < kismet_ui_sidebar.SidebarItems.length; i++) {
                        if (kismet_ui_sidebar.SidebarItems[i].id === 'sidebar-api') {
                            apiItem = kismet_ui_sidebar.SidebarItems[i];
                            break;
                        }
                    }
                    
                    if (apiItem) {
                        results.append('<p>✅ API sidebar item is registered</p>');
                        results.append('<p>Title: ' + apiItem.listTitle + '</p>');
                        results.append('<p>Priority: ' + apiItem.priority + '</p>');
                    } else {
                        results.append('<p>❌ API sidebar item is NOT registered</p>');
                    }
                } else {
                    results.append('<p>❌ Cannot check sidebar items</p>');
                }
                
            }, 2000);
        });
    </script>
</body>
</html>
